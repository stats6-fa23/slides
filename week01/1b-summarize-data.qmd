---
title: "Untitled"
format: html
---

# Getting to Know Data

[Dear Mona, Which State Has the Worst Drivers?](https://fivethirtyeight.com/features/which-state-has-the-worst-drivers/)

```{r}
library(fivethirtyeight)
library(tidyverse)
data("bad_drivers")
```

## Data Matrices  

```{r echo=FALSE, out.width='100%'}
knitr::include_graphics('img/data-matrix.png')
knitr::include_graphics('img/data-matrix-tail.png')
```

## Data Matrices

- The data matrix has `r ncol(bad_drivers)` __variables__ (state, num_drivers, perc_speeding, perc_not_distracted, perc_no_previous, insurance_premiums, losses). 

- The data matrix has `r nrow(bad_drivers)` __cases__ or __observations__. Each case represents a US state (or District of Columbia). 

## Data documentation

```{r}
?bad_drivers
```

`state` State

`num_drivers` Number of drivers involved in fatal collisions per billion miles

`perc_speeding` Percentage of drivers involved in fatal collisions who were speeding

`perc_alcohol` Percentage of drivers involved in fatal collisions who were alcohol-impaired

`perc_not_distracted` Percentage of drivers involved in fatal collisions who were not distracted

##

`perc_no_previous` Percentage of drivers involved in fatal collisions who had not been involved in any previous accidents

`insurance_premiums` Car insurance premiums ($)

`losses` Losses incurred by insurance companies for collisions per insured driver ($)

`Source` National Highway Traffic Safety Administration 2012, National Highway Traffic Safety Administration 2009 & 2012, National Association of Insurance Commissioners 2010 & 2011.

##

```{r}
head(bad_drivers)
```

## 

```{r}
tail(bad_drivers)
```

##

```{r}
glimpse(bad_drivers)
```


## Variables

```{r echo=FALSE, out.width='100%'}
knitr::include_graphics('img/data-candy.png')
knitr::include_graphics('img/data-candy-tail.png')
```

## Variables

Variables `sugarpercent`, `pricepercent`, and `winpercent` are __numerical variables__. 

We can do certain analyses on these variables such as finding an average `winpercent` or the maximum or minimum `winpercent`.

Note: Not everything represented by numbers is a numeric variable. e.g. Student ID number is not a numeric variable.



## Variables


Variables such as `competitorname`, `chocolate`, and `fruity` are __categorical variables__. 

We cannot take averages or find maximum or minimum of these variables. 

Categorical variables have __levels__. For instance `chocolate` and `fruity` both have two levels as `TRUE` and `FALSE`. 


```{r echo = FALSE, fig.align='center'}
diagram_small <- grViz("
    digraph {
        # graph aesthetics
        graph [ranksep = 0.3]

        # node definitions with substituted label text
        1 [label = 'Variables']
        2 [label = 'Categorical']
        3 [label = 'Numeric']

        
        # edge definitions with the node IDs
        1 -> 2
        1 -> 3

    }
")

tmp <- capture.output(rsvg_png(charToRaw(export_svg(diagram_small)),'img/diagram_small.png'))

knitr::include_graphics("img/diagram_small.png") 

```


## Categorical Variables

If the levels of the categorical variable has a comparable ordering then it is called an __ordinal variable__. 

e.g. variable scholarship_status might have three levels as no scholarship, partial scholarship and full scholarship. We can order these levels from less to more or vice versa. 

If there is no ordering then a categorical variable would be called a __nominal variable__. e.g. state names.



## Numeric Variables

Consider a variable `n_kids` which represents number of kids somebody has. Then this variable can take values (0, 1, 2, ...). Notice that this variable can take only integer values. This variable is said to be __discrete__ since it does not take on  infinitely many numbers that we are not able to count. 


Numeric variables that can take infinitely many numbers are said to be __continuous__. Consider somebody's height in cm. This is a continuous variable. Even though we might say somebody is 173 cm, in reality the height could be 170.612476314631 cm. So height can take infinitely many values. 

## In Statistics

```{r echo = FALSE, fig.align='center'}
#| echo: false
#| fig-align: center
#| out-width: 80%
diagram <- grViz("
    digraph {
        # graph aesthetics
        graph [ranksep = 0.3]

        # node definitions with substituted label text
        1 [label = 'Variables']
        2 [label = 'Categorical']
        3 [label = 'Numeric']
        4 [label = 'Nominal']
        5 [label = 'Ordinal']
        6 [label = 'Discrete']
        7 [label = 'Continuous']

        
        # edge definitions with the node IDs
        1 -> 2
        1 -> 3
        2 -> 4
        2 -> 5
        3 -> 6
        3 -> 7
    }
")

tmp <- capture.output(rsvg_png(charToRaw(export_svg(diagram)),'img/diagram.png'))

knitr::include_graphics("img/diagram.png") 

```





